# Unused Metic Processor

<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [alpha]: metrics   |
| Distributions | [ntakashi-otel-collector] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Aprocessor%2Funusedmetric%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Aprocessor%2Funusedmetric) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Aprocessor%2Funusedmetric%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Aprocessor%2Funusedmetric) |
| Code coverage | [![codecov](https://codecov.io/github/open-telemetry/opentelemetry-collector-contrib/graph/main/badge.svg?component=processor_unusedmetric)](https://app.codecov.io/gh/open-telemetry/opentelemetry-collector-contrib/tree/main/?components%5B0%5D=processor_unusedmetric&displayType=list) |
| [Code Owners](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/CONTRIBUTING.md#becoming-a-code-owner)    | [@nicolastakashi](https://www.github.com/nicolastakashi) |

[alpha]: https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/component-stability.md#alpha
[ntakashi-otel-collector]: TBD
<!-- end autogenerated section -->

## Overview

The Unused Metric Processor is an experimental OpenTelemetry Collector component designed to intelligently filter out unused metrics from telemetry pipelines. This processor analyzes metric usage patterns and automatically drops metrics that are not being actively consumed or queried, helping to reduce storage costs and improve pipeline performance.

The processor was developed based on usage pattern analysis from the [prom-analytics-proxy](https://github.com/nicolastakashi/prom-analytics-proxy) project, which provides insights into which metrics are actually being used in production environments.

## Features

- **Intelligent Metric Filtering**: Automatically identifies and drops unused metrics based on usage patterns
- **Configurable Retention**: Flexible configuration options for metric retention policies
- **Performance Optimization**: Reduces storage overhead and improves pipeline efficiency
- **Usage Pattern Analysis**: Leverages real-world usage data to make informed filtering decisions

## Configuration

The `unusedmetric` processor can be configured with the following options:

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `server.address` | string | - | **Required.** The address of the analytics server that provides usage pattern data |
| `server.timeout` | duration | `10s` | Timeout for server requests |
| `server.tls_config.insecure_skip_verify` | bool | `false` | Skip TLS certificate verification |

## Example Configuration

Here's an example of how to configure the Unused Metric Processor:

```yaml
processors:
  unusedmetric:
    server:
      address: http://localhost:9092
      timeout: 10s
      tls_config:
        insecure_skip_verify: true
```

In this example:

- The processor connects to an analytics server at `http://localhost:9092`
- It has a 10-second timeout for server requests
- TLS verification is disabled for development purposes
